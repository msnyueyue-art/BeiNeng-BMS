<!-- =========================================
     设备监控管理弹框 - 插件代码
     将此文件中的CSS和HTML代码添加到device-management.html中
     ========================================= -->

<!-- ===== 1. 将以下CSS添加到<style>标签中 ===== -->
<style>
/* 设备监控弹框样式 */
.modal-container.monitor {
    max-width: 1200px;
    max-height: 95vh;
}

.monitor-tabs {
    display: flex;
    border-bottom: 2px solid var(--border-color);
    background: var(--bg-gray);
    padding: 0 24px;
}

.monitor-tab {
    padding: 16px 24px;
    border: none;
    background: transparent;
    cursor: pointer;
    font-size: 15px;
    font-weight: 500;
    color: var(--text-gray);
    border-bottom: 3px solid transparent;
    margin-bottom: -2px;
    transition: all 0.3s;
    position: relative;
}

.monitor-tab:hover {
    color: var(--primary-blue);
}

.monitor-tab.active {
    color: var(--primary-blue);
    border-bottom-color: var(--primary-blue);
    background: var(--bg-white);
}

.tab-content {
    display: none;
    padding: 24px;
    max-height: calc(95vh - 200px);
    overflow-y: auto;
}

.tab-content.active {
    display: block;
}

/* BMS参数布局 */
.bms-section {
    margin-bottom: 24px;
}

.section-title {
    font-size: 16px;
    font-weight: 600;
    color: var(--text-dark);
    margin-bottom: 16px;
    padding-bottom: 8px;
    border-bottom: 2px solid var(--border-color);
    display: flex;
    align-items: center;
    gap: 8px;
}

.section-title svg {
    width: 20px;
    height: 20px;
    fill: var(--primary-blue);
}

/* 参数网格 */
.param-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 16px;
    margin-bottom: 20px;
}

.param-item {
    background: var(--bg-gray);
    padding: 12px 16px;
    border-radius: 8px;
    border-left: 3px solid var(--primary-blue);
}

.param-label {
    font-size: 12px;
    color: var(--text-gray);
    margin-bottom: 4px;
    display: flex;
    align-items: center;
    gap: 6px;
}

.param-label svg {
    width: 14px;
    height: 14px;
    fill: var(--text-gray);
}

.param-value {
    font-size: 18px;
    font-weight: 600;
    color: var(--text-dark);
}

.param-value.success {
    color: var(--success-green);
}

.param-value.warning {
    color: var(--warning-orange);
}

.param-value.danger {
    color: var(--error-red);
}

/* MOS开关样式 */
.mos-switch {
    display: inline-flex;
    align-items: center;
    gap: 8px;
}

.switch {
    position: relative;
    width: 40px;
    height: 22px;
}

.switch input {
    opacity: 0;
    width: 0;
    height: 0;
}

.slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: #ccc;
    transition: .4s;
    border-radius: 22px;
}

.slider:before {
    position: absolute;
    content: "";
    height: 16px;
    width: 16px;
    left: 3px;
    bottom: 3px;
    background-color: white;
    transition: .4s;
    border-radius: 50%;
}

input:checked + .slider {
    background-color: var(--success-green);
}

input:checked + .slider:before {
    transform: translateX(18px);
}

/* 并机汇总信息区域 */
.summary-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 16px;
    margin-bottom: 24px;
}

.summary-card {
    background: linear-gradient(135deg, var(--light-blue) 0%, var(--bg-white) 100%);
    padding: 16px;
    border-radius: 12px;
    border: 1px solid var(--border-color);
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.summary-card-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.summary-card-icon {
    width: 36px;
    height: 36px;
    background: var(--bg-white);
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.summary-card-icon svg {
    width: 20px;
    height: 20px;
    fill: var(--primary-blue);
}

.summary-card-label {
    font-size: 13px;
    color: var(--text-gray);
}

.summary-card-value {
    font-size: 24px;
    font-weight: 700;
    color: var(--primary-blue);
}

/* 详细参数表格 */
.detail-params {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
    background: var(--bg-gray);
    padding: 16px;
    border-radius: 8px;
}

.detail-param-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 8px 12px;
    background: var(--bg-white);
    border-radius: 6px;
}

.detail-param-label {
    font-size: 13px;
    color: var(--text-gray);
}

.detail-param-value {
    font-size: 14px;
    font-weight: 600;
    color: var(--text-dark);
}

/* 电芯电压区域 */
.cell-voltage-grid {
    display: grid;
    grid-template-columns: repeat(8, 1fr);
    gap: 12px;
}

.cell-voltage-item {
    background: var(--bg-gray);
    padding: 12px;
    border-radius: 8px;
    text-align: center;
    border: 2px solid transparent;
    transition: all 0.3s;
}

.cell-voltage-item:hover {
    border-color: var(--primary-blue);
    transform: translateY(-2px);
}

.cell-voltage-item.max {
    border-color: var(--error-red);
    background: #FFF1F0;
}

.cell-voltage-item.min {
    border-color: var(--success-green);
    background: #F0F9FF;
}

.cell-number {
    font-size: 11px;
    color: var(--text-light);
    margin-bottom: 4px;
}

.cell-voltage {
    font-size: 15px;
    font-weight: 600;
    color: var(--text-dark);
}

/* 温度区域 */
.temp-grid {
    display: grid;
    grid-template-columns: repeat(6, 1fr);
    gap: 12px;
}

.temp-item {
    background: var(--bg-gray);
    padding: 12px;
    border-radius: 8px;
    text-align: center;
}

.temp-item.max {
    background: #FFF1F0;
    border: 2px solid var(--error-red);
}

.temp-item.min {
    background: #F0F9FF;
    border: 2px solid var(--primary-blue);
}

.temp-label {
    font-size: 11px;
    color: var(--text-gray);
    margin-bottom: 4px;
}

.temp-value {
    font-size: 16px;
    font-weight: 600;
    color: var(--text-dark);
}

/* 系统功能开关 */
.function-switches {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 16px;
}

.function-switch-item {
    background: var(--bg-gray);
    padding: 14px;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.function-switch-label {
    font-size: 14px;
    font-weight: 500;
    color: var(--text-dark);
}

/* 高亮信息卡片 */
.highlight-card {
    background: linear-gradient(135deg, #E8F3FF 0%, #FFFFFF 100%);
    border: 2px solid var(--primary-blue);
    padding: 16px;
    border-radius: 12px;
    margin-bottom: 16px;
}

.highlight-card-title {
    font-size: 14px;
    color: var(--primary-blue);
    font-weight: 600;
    margin-bottom: 12px;
}

.highlight-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 12px;
}

.highlight-item {
    text-align: center;
}

.highlight-label {
    font-size: 12px;
    color: var(--text-gray);
    margin-bottom: 4px;
}

.highlight-value {
    font-size: 18px;
    font-weight: 700;
    color: var(--primary-blue);
}
</style>

<!-- ===== 2. 将以下HTML添加到OTA升级弹框之后 ===== -->

<!-- ===== 设备监控管理弹框 ===== -->
<div class="modal-overlay" id="deviceMonitorModal">
    <div class="modal-container monitor">
        <div class="modal-header">
            <h3 class="modal-title" id="monitorTitle">BMS001 - 监控管理</h3>
            <button class="modal-close" onclick="closeDeviceMonitor()">
                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                </svg>
            </button>
        </div>

        <!-- Tab菜单栏 -->
        <div class="monitor-tabs">
            <button class="monitor-tab active" onclick="switchMonitorTab('bms')">BMS 参数</button>
            <button class="monitor-tab" onclick="switchMonitorTab('history')">历史记录</button>
            <button class="monitor-tab" onclick="switchMonitorTab('protection')">保护参数</button>
            <button class="monitor-tab" onclick="switchMonitorTab('inverter')">逆变器参数</button>
        </div>

        <!-- Tab内容 -->
        <div class="modal-body" style="padding: 0;">
            <!-- BMS参数页面 -->
            <div class="tab-content active" id="bmsTab">
                <!-- 基本信息区域 -->
                <div class="bms-section">
                    <div class="section-title">
                        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                        </svg>
                        基本信息
                    </div>
                    <div class="param-grid">
                        <div class="param-item">
                            <div class="param-label">地址</div>
                            <div class="param-value">1</div>
                        </div>
                        <div class="param-item">
                            <div class="param-label">剩余容量</div>
                            <div class="param-value">62.7 AH</div>
                        </div>
                        <div class="param-item">
                            <div class="param-label">满充容量</div>
                            <div class="param-value">300 AH</div>
                        </div>
                        <div class="param-item">
                            <div class="param-label">循环次数</div>
                            <div class="param-value">3</div>
                        </div>
                        <div class="param-item">
                            <div class="param-label">
                                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v15.33C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V5.33C17 4.6 16.4 4 15.67 4z"/>
                                </svg>
                                SOC
                            </div>
                            <div class="param-value success">20%</div>
                        </div>
                        <div class="param-item">
                            <div class="param-label">
                                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                </svg>
                                SOH
                            </div>
                            <div class="param-value success">100%</div>
                        </div>
                        <div class="param-item">
                            <div class="param-label">电池状态</div>
                            <div class="param-value warning">充电</div>
                        </div>
                        <div class="param-item">
                            <div class="param-label">充电MOS</div>
                            <div class="param-value">
                                <div class="mos-switch">
                                    <label class="switch">
                                        <input type="checkbox" checked>
                                        <span class="slider"></span>
                                    </label>
                                    <span>开</span>
                                </div>
                            </div>
                        </div>
                        <div class="param-item">
                            <div class="param-label">放电MOS</div>
                            <div class="param-value">
                                <div class="mos-switch">
                                    <label class="switch">
                                        <input type="checkbox" checked>
                                        <span class="slider"></span>
                                    </label>
                                    <span>开</span>
                                </div>
                            </div>
                        </div>
                        <div class="param-item">
                            <div class="param-label">功率</div>
                            <div class="param-value">-0.024KW</div>
                        </div>
                        <div class="param-item">
                            <div class="param-label">电压</div>
                            <div class="param-value">51.8V</div>
                        </div>
                        <div class="param-item">
                            <div class="param-label">电流</div>
                            <div class="param-value">-0.17A</div>
                        </div>
                        <div class="param-item">
                            <div class="param-label">均衡电流</div>
                            <div class="param-value">1040mA</div>
                        </div>
                        <div class="param-item">
                            <div class="param-label">电芯电压MAX</div>
                            <div class="param-value danger">3240mV(14)</div>
                        </div>
                        <div class="param-item">
                            <div class="param-label">电芯电压MIN</div>
                            <div class="param-value success">3235mV(7)</div>
                        </div>
                    </div>
                </div>

                <!-- 并机汇总信息区域 -->
                <div class="bms-section">
                    <div class="section-title">
                        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M4 6h16v2H4zm2 6h12v2H6zm-2 6h16v2H4z"/>
                        </svg>
                        并机汇总信息
                    </div>

                    <!-- 汇总卡片 -->
                    <div class="summary-grid">
                        <div class="summary-card">
                            <div class="summary-card-header">
                                <div class="summary-card-icon">
                                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM8 20H4v-4h4v4zm0-6H4v-4h4v4zm0-6H4V4h4v4zm6 12h-4v-4h4v4zm0-6h-4v-4h4v4zm0-6h-4V4h4v4zm6 12h-4v-4h4v4zm0-6h-4v-4h4v4zm0-6h-4V4h4v4z"/>
                                    </svg>
                                </div>
                            </div>
                            <div class="summary-card-label">并机数量</div>
                            <div class="summary-card-value">2</div>
                        </div>

                        <div class="summary-card">
                            <div class="summary-card-header">
                                <div class="summary-card-icon">
                                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/>
                                    </svg>
                                </div>
                            </div>
                            <div class="summary-card-label">在线数量</div>
                            <div class="summary-card-value">2</div>
                        </div>

                        <div class="summary-card">
                            <div class="summary-card-header">
                                <div class="summary-card-icon">
                                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v15.33C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V5.33C17 4.6 16.4 4 15.67 4z"/>
                                    </svg>
                                </div>
                            </div>
                            <div class="summary-card-label">平均电量</div>
                            <div class="summary-card-value">24%</div>
                        </div>

                        <div class="summary-card">
                            <div class="summary-card-header">
                                <div class="summary-card-icon">
                                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                    </svg>
                                </div>
                            </div>
                            <div class="summary-card-label">平均SOH</div>
                            <div class="summary-card-value">100%</div>
                        </div>

                        <div class="summary-card">
                            <div class="summary-card-header">
                                <div class="summary-card-icon">
                                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M13 2.05v2.02c3.95.49 7 3.85 7 7.93 0 4.42-3.58 8-8 8s-8-3.58-8-8c0-4.08 3.05-7.44 7-7.93V2.05c-5.05.5-9 4.76-9 9.95 0 5.52 4.47 10 9.99 10 5.53 0 10.01-4.48 10.01-10 0-5.19-3.95-9.45-9-9.95z"/>
                                    </svg>
                                </div>
                            </div>
                            <div class="summary-card-label">平均电压</div>
                            <div class="summary-card-value">53.73V</div>
                        </div>

                        <div class="summary-card">
                            <div class="summary-card-header">
                                <div class="summary-card-icon">
                                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M3.55 18.54l1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8zM11 22.45h2V19.5h-2v2.95zM4 10.5H1v2h3v-2zm11-4.19V1.5H9v4.81C7.21 7.35 6 9.28 6 11.5c0 3.31 2.69 6 6 6s6-2.69 6-6c0-2.22-1.21-4.15-3-5.19zm5 4.69h3v-2h-3v2zm-2.76 7.66l1.79 1.8 1.41-1.41-1.8-1.79-1.4 1.4z"/>
                                    </svg>
                                </div>
                            </div>
                            <div class="summary-card-label">汇总电流</div>
                            <div class="summary-card-value">184.5A</div>
                        </div>
                    </div>

                    <!-- 详细参数 -->
                    <div class="detail-params">
                        <div class="detail-param-row">
                            <span class="detail-param-label">温度最高 (℃)</span>
                            <span class="detail-param-value">17.9</span>
                        </div>
                        <div class="detail-param-row">
                            <span class="detail-param-label">温度最低 (℃)</span>
                            <span class="detail-param-value">17.9</span>
                        </div>
                        <div class="detail-param-row">
                            <span class="detail-param-label">单体最高 (mV)</span>
                            <span class="detail-param-value">3372</span>
                        </div>
                        <div class="detail-param-row">
                            <span class="detail-param-label">单体最低 (mV)</span>
                            <span class="detail-param-value">3354</span>
                        </div>
                        <div class="detail-param-row">
                            <span class="detail-param-label">最大充电电压 (V)</span>
                            <span class="detail-param-value">56</span>
                        </div>
                        <div class="detail-param-row">
                            <span class="detail-param-label">放电截止电压 (V)</span>
                            <span class="detail-param-value">44</span>
                        </div>
                        <div class="detail-param-row">
                            <span class="detail-param-label">最大充电电流 (A)</span>
                            <span class="detail-param-value">400</span>
                        </div>
                        <div class="detail-param-row">
                            <span class="detail-param-label">最大放电电流 (A)</span>
                            <span class="detail-param-value">400</span>
                        </div>
                    </div>
                </div>

                <!-- 电芯电压区域 -->
                <div class="bms-section">
                    <div class="section-title">
                        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v15.33C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V5.33C17 4.6 16.4 4 15.67 4z"/>
                        </svg>
                        电芯电压 (16个电芯)
                    </div>
                    <div class="highlight-card">
                        <div class="highlight-card-title">电芯电压极值</div>
                        <div class="highlight-grid">
                            <div class="highlight-item">
                                <div class="highlight-label">最高电压</div>
                                <div class="highlight-value" style="color: var(--error-red);">3240mV (编号#14)</div>
                            </div>
                            <div class="highlight-item">
                                <div class="highlight-label">最低电压</div>
                                <div class="highlight-value" style="color: var(--success-green);">3235mV (编号#7)</div>
                            </div>
                            <div class="highlight-item">
                                <div class="highlight-label">压差</div>
                                <div class="highlight-value">5mV</div>
                            </div>
                        </div>
                    </div>
                    <div class="cell-voltage-grid">
                        <div class="cell-voltage-item">
                            <div class="cell-number">#1</div>
                            <div class="cell-voltage">3238mV</div>
                        </div>
                        <div class="cell-voltage-item">
                            <div class="cell-number">#2</div>
                            <div class="cell-voltage">3237mV</div>
                        </div>
                        <div class="cell-voltage-item">
                            <div class="cell-number">#3</div>
                            <div class="cell-voltage">3236mV</div>
                        </div>
                        <div class="cell-voltage-item">
                            <div class="cell-number">#4</div>
                            <div class="cell-voltage">3238mV</div>
                        </div>
                        <div class="cell-voltage-item">
                            <div class="cell-number">#5</div>
                            <div class="cell-voltage">3237mV</div>
                        </div>
                        <div class="cell-voltage-item">
                            <div class="cell-number">#6</div>
                            <div class="cell-voltage">3236mV</div>
                        </div>
                        <div class="cell-voltage-item min">
                            <div class="cell-number">#7</div>
                            <div class="cell-voltage">3235mV</div>
                        </div>
                        <div class="cell-voltage-item">
                            <div class="cell-number">#8</div>
                            <div class="cell-voltage">3238mV</div>
                        </div>
                        <div class="cell-voltage-item">
                            <div class="cell-number">#9</div>
                            <div class="cell-voltage">3237mV</div>
                        </div>
                        <div class="cell-voltage-item">
                            <div class="cell-number">#10</div>
                            <div class="cell-voltage">3239mV</div>
                        </div>
                        <div class="cell-voltage-item">
                            <div class="cell-number">#11</div>
                            <div class="cell-voltage">3238mV</div>
                        </div>
                        <div class="cell-voltage-item">
                            <div class="cell-number">#12</div>
                            <div class="cell-voltage">3237mV</div>
                        </div>
                        <div class="cell-voltage-item">
                            <div class="cell-number">#13</div>
                            <div class="cell-voltage">3236mV</div>
                        </div>
                        <div class="cell-voltage-item max">
                            <div class="cell-number">#14</div>
                            <div class="cell-voltage">3240mV</div>
                        </div>
                        <div class="cell-voltage-item">
                            <div class="cell-number">#15</div>
                            <div class="cell-voltage">3238mV</div>
                        </div>
                        <div class="cell-voltage-item">
                            <div class="cell-number">#16</div>
                            <div class="cell-voltage">3237mV</div>
                        </div>
                    </div>
                </div>

                <!-- 温度区域 -->
                <div class="bms-section">
                    <div class="section-title">
                        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M15 13V5c0-1.66-1.34-3-3-3S9 3.34 9 5v8c-1.21.91-2 2.37-2 4 0 2.76 2.24 5 5 5s5-2.24 5-5c0-1.63-.79-3.09-2-4zm-4-8c0-.55.45-1 1-1s1 .45 1 1h-1v1h1v2h-1v1h1v2h-2V5z"/>
                        </svg>
                        温度信息
                    </div>
                    <div class="highlight-card">
                        <div class="highlight-card-title">温度极值</div>
                        <div class="highlight-grid">
                            <div class="highlight-item">
                                <div class="highlight-label">最高温度</div>
                                <div class="highlight-value" style="color: var(--error-red);">25.5℃ (编号#2)</div>
                            </div>
                            <div class="highlight-item">
                                <div class="highlight-label">最低温度</div>
                                <div class="highlight-value" style="color: var(--success-green);">22.3℃ (编号#5)</div>
                            </div>
                            <div class="highlight-item">
                                <div class="highlight-label">温差</div>
                                <div class="highlight-value">3.2℃</div>
                            </div>
                        </div>
                    </div>
                    <div class="param-grid" style="margin-bottom: 16px;">
                        <div class="param-item">
                            <div class="param-label">MOS温度</div>
                            <div class="param-value">24.1℃</div>
                        </div>
                        <div class="param-item">
                            <div class="param-label">环境温度</div>
                            <div class="param-value">23.5℃</div>
                        </div>
                    </div>
                    <div class="temp-grid">
                        <div class="temp-item">
                            <div class="temp-label">#1</div>
                            <div class="temp-value">23.8℃</div>
                        </div>
                        <div class="temp-item max">
                            <div class="temp-label">#2</div>
                            <div class="temp-value">25.5℃</div>
                        </div>
                        <div class="temp-item">
                            <div class="temp-label">#3</div>
                            <div class="temp-value">24.2℃</div>
                        </div>
                        <div class="temp-item">
                            <div class="temp-label">#4</div>
                            <div class="temp-value">23.9℃</div>
                        </div>
                        <div class="temp-item min">
                            <div class="temp-label">#5</div>
                            <div class="temp-value">22.3℃</div>
                        </div>
                        <div class="temp-item">
                            <div class="temp-label">#6</div>
                            <div class="temp-value">24.0℃</div>
                        </div>
                    </div>
                </div>

                <!-- 系统功能开关 -->
                <div class="bms-section">
                    <div class="section-title">
                        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                        </svg>
                        系统功能开关
                    </div>
                    <div class="function-switches">
                        <div class="function-switch-item">
                            <span class="function-switch-label">LED Alarm</span>
                            <label class="switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="function-switch-item">
                            <span class="function-switch-label">PWR_SW</span>
                            <label class="switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="function-switch-item">
                            <span class="function-switch-label">Buzzer</span>
                            <label class="switch">
                                <input type="checkbox">
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="function-switch-item">
                            <span class="function-switch-label">BAL_EN</span>
                            <label class="switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="function-switch-item">
                            <span class="function-switch-label">Heater</span>
                            <label class="switch">
                                <input type="checkbox">
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="function-switch-item">
                            <span class="function-switch-label">Limiter</span>
                            <label class="switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="function-switch-item">
                            <span class="function-switch-label">Trip</span>
                            <label class="switch">
                                <input type="checkbox">
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="function-switch-item">
                            <span class="function-switch-label">Sleep</span>
                            <label class="switch">
                                <input type="checkbox">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 历史记录页面 -->
            <div class="tab-content" id="historyTab">
                <div style="text-align: center; padding: 60px 0; color: var(--text-gray);">
                    <svg style="width: 64px; height: 64px; fill: var(--text-light); margin-bottom: 16px;" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"/>
                    </svg>
                    <p style="font-size: 16px;">历史记录功能开发中...</p>
                </div>
            </div>

            <!-- 保护参数页面 -->
            <div class="tab-content" id="protectionTab">
                <div style="text-align: center; padding: 60px 0; color: var(--text-gray);">
                    <svg style="width: 64px; height: 64px; fill: var(--text-light); margin-bottom: 16px;" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"/>
                    </svg>
                    <p style="font-size: 16px;">保护参数功能开发中...</p>
                </div>
            </div>

            <!-- 逆变器参数页面 -->
            <div class="tab-content" id="inverterTab">
                <div style="text-align: center; padding: 60px 0; color: var(--text-gray);">
                    <svg style="width: 64px; height: 64px; fill: var(--text-light); margin-bottom: 16px;" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                    </svg>
                    <p style="font-size: 16px;">逆变器参数功能开发中...</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ===== 3. 将以下JavaScript添加到<script>标签中 ===== -->
<script>
// ===== 设备监控管理 =====
function viewDevice(id) {
    const device = mockDevices.find(d => d.id === id);
    if (!device) return;

    // 更新标题
    document.getElementById('monitorTitle').textContent = `${id} - 监控管理`;

    // 打开监控弹框
    document.getElementById('deviceMonitorModal').classList.add('active');

    // 默认显示BMS参数页面
    switchMonitorTab('bms');
}

function closeDeviceMonitor() {
    document.getElementById('deviceMonitorModal').classList.remove('active');
}

function switchMonitorTab(tabName) {
    // 移除所有active类
    document.querySelectorAll('.monitor-tab').forEach(tab => {
        tab.classList.remove('active');
    });
    document.querySelectorAll('.tab-content').forEach(content => {
        content.classList.remove('active');
    });

    // 添加active类到当前tab
    event.target.classList.add('active');

    // 显示对应的内容
    const tabMap = {
        'bms': 'bmsTab',
        'history': 'historyTab',
        'protection': 'protectionTab',
        'inverter': 'inverterTab'
    };

    document.getElementById(tabMap[tabName]).classList.add('active');
}
</script>
